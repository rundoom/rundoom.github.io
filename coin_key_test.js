var storyContent = {"inkVersion":21,"root":[["\n","ev","str","^Золота","/str","/ev",{"VAR=":"money_name","re":true},"ev","str","^","/str","/ev",{"VAR=":"money_name","re":true},"ev",{"VAR?":"inventory"},{"VAR?":"start_items"},"+",{"VAR=":"inventory","re":true},"/ev","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"mysterious_room":[["ev","str","^Таинственная комната","/str","/ev",{"VAR=":"current_location","re":true},"^Вы находитесь в таинственной комнате.","\n","^В углу есть запертая дверь. ","ev","str","^На полу есть","/str",{"VAR?":"mysterious_room_content"},{"f()":"iterate"},"out","/ev","^.","\n","ev","str","^Взять ключ","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Взять монету","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Использовать ключ на двери","/str",{"VAR?":"inventory"},{"VAR?":"Ключ"},"?","/ev",{"*":".^.c-2","flg":21},"ev","str","^Пойти в коридор","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Выбить дверь ногой","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Выбить дверь головой","/str","/ev",{"*":".^.c-5","flg":4},{"c-0":["^ ","\n","ev",{"^var":"mysterious_room_content","ci":-1},{"VAR?":"Ключ"},{"f()":"to_inventory"},"out","/ev","\n","^Вы взяли ключ.","\n","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},{"#f":5}],"c-1":["^ ","\n","ev",{"^var":"mysterious_room_content","ci":-1},{"VAR?":"Монета"},{"f()":"to_inventory"},"out","/ev","\n","^Вы взяли монету.","\n","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},{"#f":5}],"c-2":["^ ","ev",{"^->":"mysterious_room.use_key"},"/ev",{"->":"move"},"\n",{"#f":5}],"c-3":["^ ","ev",{"^->":"corridor"},"/ev",{"->":"move"},"\n",{"#f":5}],"c-4":["^ ","\n",{"#f":5}],"c-5":["^ ","\n","ev",{"VAR?":"hp"},5,"-",{"VAR=":"hp","re":true},"/ev","^Это было больно и неэффективно","\n","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},{"#f":5}]}],{"use_key":[["ev",{"VAR?":"inventory"},{"VAR?":"Ключ"},"-",{"VAR=":"inventory","re":true},"/ev","^Вы использовали ключ. Дверь открылась и исчезла, открыв проход в сад.","\n","ev","str","^Пойти в сад","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Остаться в комнате","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ","ev",{"^->":"garden"},"/ev",{"->":"move"},"\n",{"#f":5}],"c-1":["^ ","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},"\n",{"#f":5}]}],{"#f":3}],"#f":3}],"corridor":[["ev","str","^Коридор","/str","/ev",{"VAR=":"current_location","re":true},"^Длинный темный коридор. Здесь довольно пусто.","\n","ev","str","^Вернуться в таинственную комнату","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Подбросить монету","/str",{"VAR?":"inventory"},{"VAR?":"Монета"},"?","/ev",{"*":".^.c-1","flg":5},"ev","str","^Пойти дальше по коридору","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ ","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},"\n",{"#f":5}],"c-1":["\n","^Вы подбросили монету. ",["ev","visit",2,"seq","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^Выпал орёл",{"->":".^.^.17"},null],"s1":["pop","^Выпала решка",{"->":".^.^.17"},null],"#f":5}],"^!","\n","ev",{"^->":"corridor"},"/ev",{"->":"move"},{"#f":5}],"c-2":["^ ","ev",{"^->":"corridor.corridor_end"},"/ev",{"->":"move"},"\n",{"#f":5}]}],{"corridor_end":[["^Коридор заканчивается тупиком.","\n","ev","str","^Вернуться назад","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ ","ev",{"^->":"corridor"},"/ev",{"->":"move"},"\n",{"#f":5}]}],{"#f":3}],"#f":3}],"garden":[["ev","str","^Сад","/str","/ev",{"VAR=":"current_location","re":true},"^Красивый сад с цветами и деревьями. Здесь очень мирно.","\n","ev","str","^Вернуться в таинственную комнату","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Закончить игру","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ","ev",{"^->":"mysterious_room"},"/ev",{"->":"move"},"\n",{"#f":5}],"c-1":["^ ","ev",{"^->":"end_game"},"/ev",{"->":"move"},"\n",{"#f":5}]}],{"#f":3}],"show_status":["ev","str","^-----------------------------------------------------------------------------","/str","out","/ev","\n","^📍 Локация: ","ev",{"VAR?":"current_location"},"out","/ev","\n","^❤️ Здоровье: ","ev",{"VAR?":"hp"},"out","/ev","^/","ev",{"VAR?":"max_hp"},"out","/ev","^ (","ev",{"f()":"get_hp_status"},"out","/ev","^)","\n","^🎒 Инвентарь: ","ev",{"f()":"get_inventory_display"},"out","/ev","\n","ev",{"VAR?":"money_name"},"str","^","/str","!=","/ev",[{"->":".^.b","c":true},{"b":["^ 💎 ","ev",{"VAR?":"money_name"},"out","/ev","^: ","ev",{"VAR?":"money"},"out","/ev",{"->":".^.^.^.44"},null]}],"nop","\n","ev","str","^-----------------------------------------------------------------------------","/str","out","/ev","\n",{"#f":1}],"get_hp_status":[["ev",{"VAR?":"hp"},10,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💚 Абсолютно здоров","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},9,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💚 Почти идеально","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},8,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💚 В хорошей форме","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},7,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💛 Лёгкие царапины","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},6,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💛 Немного побит","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},5,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💛 Заметно потрепан","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},4,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^🧡 Сильно ранен","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},3,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^🧡 Тяжело ранен","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},2,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^❤️ Критическое состояние","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},1,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^❤️ При смерти","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],["ev",{"VAR?":"hp"},0,"<=","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","^💀 Мёртв","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","^⭐ Сверхчеловек","/str","/ev","~ret",{"->":".^.^.^.12"},null]}],"nop","\n",{"#f":1}],"get_inventory_display":["ev",{"VAR?":"inventory"},{"list":{}},"==","/ev",[{"->":".^.b","c":true},{"b":["^ Пусто",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"inventory"},"out","/ev",{"->":".^.^.^.7"},null]}],"nop","\n",{"#f":1}],"to_inventory":[{"temp=":"item"},{"temp=":"list_from"},"ev",{"VAR?":"list_from"},{"VAR?":"item"},"-",{"temp=":"list_from","re":true},"/ev","ev",{"VAR?":"inventory"},{"VAR?":"item"},"+",{"VAR=":"inventory","re":true},"/ev",{"#f":1}],"status_thread":["ev",{"f()":"show_status"},"out","/ev","\n","ev",{"VAR?":"hp"},0,"<=","/ev",[{"->":".^.b","c":true},{"b":["\n","^П О Т Р А Ч Е Н О","\n",{"->":"end_game"},{"->":".^.^.^.11"},null]}],"nop","\n","ev","void","/ev","->->",{"#f":1}],"move":[{"temp=":"place_to_return_to"},{"->t->":"status_thread"},{"->":"place_to_return_to","var":true},{"#f":1}],"iterate":[{"temp=":"list_to_iterate"},{"temp=":"prefix"},"ev",{"VAR?":"list_to_iterate"},"LIST_COUNT","/ev",{"temp=":"count"},"\n","ev",{"VAR?":"count"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev","str","^","/str","/ev","~ret",{"->":".^.^.^.14"},null]}],"nop","\n","ev",{"VAR?":"count"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"prefix"},"str","^ ","ev",{"VAR?":"list_to_iterate"},"out","/ev","/str","+","/ev","~ret",{"->":".^.^.^.22"},null]}],"nop","\n","ev",{"VAR?":"count"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"list_to_iterate"},"LIST_MIN","/ev",{"temp=":"first"},"\n","ev",{"VAR?":"list_to_iterate"},"LIST_MAX","/ev",{"temp=":"second"},"\n","ev",{"VAR?":"prefix"},"str","^ ","ev",{"VAR?":"first"},"out","/ev","^ и ","ev",{"VAR?":"second"},"out","/ev","/str","+","/ev","~ret",{"->":".^.^.^.30"},null]}],"nop","\n","ev",{"VAR?":"count"},2,">","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"prefix"},"str","^ ","/str","+",{"VAR?":"list_to_iterate"},{"f()":"format_list_items"},"+","/ev","~ret","\n",{"->":".^.^.^.38"},null]}],"nop","\n","ev","str","^","/str","/ev","~ret",{"#f":1}],"format_list_items":[{"temp=":"items"},"ev",{"VAR?":"items"},"LIST_COUNT","/ev",{"temp=":"count"},"\n","ev",{"VAR?":"items"},"LIST_MIN","/ev",{"temp=":"first"},"\n","ev",{"VAR?":"items"},{"VAR?":"first"},"-","/ev",{"temp=":"remaining"},["ev",{"VAR?":"count"},1,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev","str","ev",{"VAR?":"first"},"out","/ev","/str","/ev","~ret",{"->":".^.^.^.22"},null]}],["ev",{"VAR?":"count"},2,"==","/ev",{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"remaining"},"LIST_MAX","/ev",{"temp=":"last"},"\n","ev","str","ev",{"VAR?":"first"},"out","/ev","^ и ","ev",{"VAR?":"last"},"out","/ev","/str","/ev","~ret",{"->":".^.^.^.22"},null]}],[{"->":".^.b"},{"b":["\n","ev","str","ev",{"VAR?":"first"},"out","/ev","^, ","/str",{"VAR?":"remaining"},{"f()":".^.^.^"},"+","/ev","~ret","\n",{"->":".^.^.^.22"},null]}],"nop","\n",{"#f":1}],"end_game":["^Игра окончена!","\n","end",{"#f":3}],"global decl":["ev",{"list":{},"origins":["inventory"]},{"VAR=":"inventory"},"str","^Таинственная комната","/str",{"VAR=":"current_location"},10,{"VAR=":"hp"},10,{"VAR=":"max_hp"},0,{"VAR=":"money"},"str","^Рублей","/str",{"VAR=":"money_name"},{"list":{"mysterious_room_content.Ключ":1,"mysterious_room_content.Монета":2}},{"VAR=":"mysterious_room_content"},{"list":{},"origins":["start_items"]},{"VAR=":"start_items"},"/ev","end",null],"#f":1}],"listDefs":{"inventory":{"Ничего":1},"mysterious_room_content":{"Ключ":1,"Монета":2},"start_items":{"Стартовый_предмет_1":1,"Стартовый_предмет_2":2}}};